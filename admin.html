<!DOCTYPE html>
<html lang="es">

<head>
	<title>Opiniones - Panel de control</title>
	<meta charset="UTF-8">
	<link rel="shortcut icon" href="/img/opiniones_icono.ico" type="image/x-icon">
	<meta name="viewport" content="width=device-width, initial-scale=1.0, shrink-to-fit=no">
	<link rel="stylesheet" href="node_modules/bootstrap/css/bootstrap.css">
	<script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js" integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1" crossorigin="anonymous"></script>
	<script src="node_modules/bootstrap/js/bootstrap.min.js"></script>
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
	<script src = "js/getUsername.js"></script>
  <script src ="js/adminControls.js"></script>
	<link rel="stylesheet" href="/css/img_effects.css" type="text/css">


</head>

<body class="bg-dark text-center" >

	<header>

		<nav class="navbar  navbar-expand-lg navbar-light bg-secondary" >
			  <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarTogglerDemo01" aria-controls="navbarTogglerDemo01" aria-expanded="false" aria-label="Toggle navigation">
			    <span class="navbar-toggler-icon"></span>
			  </button>
			  <div class="collapse navbar-collapse" id="navbarTogglerDemo01">
			    <a class="navbar-brand imagen" href="index.html"> <img src="/img/opiniones_login.png" width="90" height="40" class="d-inline-block align-top" alt="Opiniones" loading="lazy"></a>

			    <form class="form-inline my-2 my-lg-0">
						<!--<button class="btn btn-dark  btn-sm  mr-5" type="button" data-toggle="modal" data-target="#crearCommentModal" id="botonOpinion" ><img src="/Opiniones/img/crear_op.png" width="80" height="20" class="d-inline-block align-top" alt="Opiniones" loading="lazy"></button>
			      <input class="form-control mr-sm-2 " type="search" placeholder="Search" aria-label="Search"></input>
			      <button class="btn btn-dark my-2 btn-sm my-sm-0  " type="submit"><img src="/Opiniones/img/buscar.png" width="70" height="18" class="d-inline-block align-top" alt="Opiniones" loading="lazy"></button> -->

						<div class="btn-group btn-sm ml-5 ">
							<a class="imagen mr-4" id="badgeNotifications">
									 	<img  data-toggle="modal" data-target="#notifModal" src="/img/notification-bell.png" width="16" height="16" class="d-inline-block align-center" alt="Opiniones" loading="lazy">
									</a>
							<button type="button" class="btn btn-dark btn-sm mr-1" data-toggle="modal" data-target="#modalRep">Rep:
									 <span class="badge badge-light" id="scoreUser"></span>
											</button>
							<button class="btn btn-dark btn-sm " type="button" id="user" >Ingresar</button>
							<button type="button" class="btn btn-danger dropdown-toggle dropdown-toggle-split btn-sm" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
										    <span class="sr-only">Toggle Dropdown</span>
										  </button>
											<div class="dropdown-menu" id="userMenu">
												<a class="dropdown-item" id="modalMiCuenta" href="micuenta.html">Mi cuenta</a>
												<a class="dropdown-item" id="panelAdmin" >Panel de Control</a>
												<a class="dropdown-item" id="modalMisOpiniones" href="misopiniones.html">Mis Opiniones</a>
												<a class="dropdown-item" id="salir">Cerrar Sesion</a>
											</div>
			     </div>
			    </form>
			  </div>
			</nav>


	</header>

	<div class="accordion  ml-5 mr-5 mt-3" id="accordionExample">




						<div class="card bg-secondary">
						 <div class="card-header" id="headingOne">

							 <h2 class="mb-0">
								 <button class="btn btn-link btn-block text-white text-left collapsed" type="button" data-toggle="collapse" data-target="#collapseOne" aria-expanded="false" aria-controls="collapseOne">
									 Buscar Usuarios:
								 </button>
							 </h2>


							 <div id="collapseOne" class="collapse" aria-labelledby="headingOne" data-parent="#accordionExample">
									<div class="card-body">
								 <input type="text" class="form-control  mb-2" id="userValue" placeholder="Ingresa nick" minlength="5" maxlength="15" pattern="[a-zA-Z0-9-]+" >
								 <div class="valid-feedback mb-2">
											 Se ve bien!.
										</div>
												<div class="invalid-feedback mb-2">
														 Solo se admiten mayusculas, minusculas y numeros, Minimo 5 caracteres,Maximo 15.
													 </div>
														<button type="button" class="btn btn-dark mb-2" id="searchUser">Aceptar</button>


															<input class="form-control" type="text" id="user_nickname" placeholder="" readonly>

														<button type="button" class="btn btn-danger mt-2" id="btnBanUser" data-toggle="modal" data-target="#modalBanUser">Eliminar Usuario</button>
													<button type="button" class="btn btn-warning mt-2" id="btnSuspendUser"  data-toggle="modal" data-target="#modalSuspendUser">Suspender Usuario</button>
												<button type="button" class="btn btn-success mt-2" id="btnActiveUser"  data-toggle="modal" data-target="#modalActUser">Habilitar Usuario</button>




									</div>

									<table class="table ">
										<thead class="thead-dark">
														<tr>
															<th scope="col">ID Infraccion</th>
															<th scope="col">Motivo</th>
															<th scope="col">Baneado</th>
															<th scope="col">Tiempo Suspension</th>
															<th scope="col">Fecha Suspension</th>
														</tr>
													</thead>
													<tbody id="bodyTable">

													</tbody>
									</table>

							 </div>
						 </div>
						 </div>

						 <div class="card bg-secondary">
							<div class="card-header" id="headingTwo">
								<h2 class="mb-0">
									<button class="btn btn-link btn-block text-white text-left collapsed" type="button" data-toggle="collapse" data-target="#collapseTwo" aria-expanded="false" aria-controls="collapseTwo">
										Buscar Opiniones:
									</button>
								</h2>
							</div>

								<div id="collapseTwo" class="collapse" aria-labelledby="headingTwo" data-parent="#accordionExample">
									<div class="card-body">


									 <input type="text" class="form-control  mb-2" id="searchOp" placeholder="Ingresa ID de la Opinion" pattern="[0-9-]+" title = "Solo numeros" >
									 <div class="valid-feedback mb-2">
												 Se ve bien!.
											</div>
													<div class="invalid-feedback mb-2">
															 Solo numeros!.
														 </div>

													<button type="button" class="btn mt-2 btn-dark" id="submitRequest">Aceptar</button>
													<!-- Alerta busqueda -->
														<div id="bodyAlert">
														</div>


								</div>
							</div>

					</div>
				</div>

				<div class="card-group"  id="comment_deck">
						</div>






																						<!--Modal de creacion comentario-->
														<div class="modal fade" id="ModifyCommentModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
																	<div class="modal-dialog modal-dialog-scrollable modal-xl ">
																		<div class="modal-content bg-dark">
																				<div class="modal-header">
																					<h5 class="modal-title" >	<img src="/Opiniones/img/crear_op.png" width="100" height="30" class="d-inline-block align-center" alt=" Crear Op!" loading="lazy"></h5>
																						<button type="button" class="close" data-dismiss="modal" aria-label="Close">
																							<span aria-hidden="true">&times;</span>
																						</button>
																					</div>
																			<div class="modal-body bg-dark">
																				<p class="text-left text-white">Modificar Titulo:</p>
																						<div class="input-group pr-0 mb-2">

																											<div class="input-group-prepend">

																											<input type="text" class="form-control mb-1" placeholder="Titulo" aria-label="titulo"  id="titulo" minlength="10" maxlength="100"  pattern="[\w...\.\s]*"   required >
																											<div class="valid-feedback ml-2 mb-2">
																														Se ve bien!.
																												 </div>
																														 <div class="invalid-feedback ml-2 mb-2">
																																	Se admiten mayusculas, minusculas y numeros, Min 10 caracteres,Max 100. No ingreses Insultos o palabras inapropiadas o Links(seras BANEADO).
																																</div>
																										</div>
																						</div>
																					<p class="text-left text-white">Modificar Opinion:</p>
																						<div class="input-group  input-group-lg">

																										<div class="input-group">
																											<!--	<span  class="input-group-text">minimo 200 caracteres</span> -->

																										<textarea  class="form-control" aria-label="With textarea" id="contenido" minlength="200" maxlength="2080" placeholder="Aqui redactas tu Opinion.." required ></textarea>
																										<div class="valid-feedback ml-2 mb-2">
																													Se ve bien!.
																											 </div>
																													 <div class="invalid-feedback ml-2 mb-2">
																																Minimo 200 caracteres,Maximo 2080.No ingreses Insultos, Links o palabras inapropiadas(seras BANEADO).
																															</div>
																															<span class="text-white mt-2" id="charsLeft"></span>
																										</div>

																						</div>

																							<p class="mt-2 text-left text-white">Modificar/eliminar link video:</p>
																									<div class="input-group mb-3">
																									<div class="input-group-prepend">
																										<span class="input-group-text" >https://youtube.com/embed/</span>
																									</div>
																									<input type="text" class="form-control" id="yt-url" >
																									</div>
																										<p class="mt-2 text-left text-white">Modificar/eliminar link imagen 1:</p>
																									<div class="input-group mb-3">
																									<div class="input-group-prepend">
																										<span class="input-group-text" >URL:</span>
																									</div>
																									<input type="text" class="form-control" id="img-url" >
																									<input maxlength="50" class="input-group-text mt-1" id="img_desc0" placeholder="Breve descripcion de tu imagen">
																									</div>
																										<p class="mt-2 text-left text-white">Modificar/eliminar link imagen 2:</p>
																									<div class="input-group mb-3">
																									<div class="input-group-prepend">
																										<span class="input-group-text" >URL:</span>
																									</div>
																									<input type="text" class="form-control" id="img1-url" >
																									<input maxlength="50" class="input-group-text mt-1" id="img_desc1" placeholder="Breve descripcion de tu imagen">
																									</div>
																										<p class="mt-2 text-left text-white">Modificar/eliminar link imagen 3:</p>
																									<div class="input-group mb-3">
																									<div class="input-group-prepend">
																										<span class="input-group-text" >URL:</span>
																									</div>
																									<input type="text" class="form-control" id="img2-url" >
																									<input maxlength="50" class="input-group-text mt-1" id="img_desc2" placeholder="Breve descripcion de tu imagen">
																									</div>


																								<p class="text-left text-white">Modificar Categoria:</p>
																						<div class="input-group pr-5 mt-2">
																										<div class="input-group-prepend">
																											<label class="input-group-text" for="inputGroupSelect01">Categoria:</label>
																										</div>
																										<select class="custom-select" id="inputGroupSelect01" required >
																											<option selected disabled value="">Elige la categoria de tu Opinion</option>
																											<option value="1">Productos</option>
																											<option value="2">Servicios</option>
																											<option value="3">Politica</option>
																											 <option value="4">Sociedad</option>
																												<option value="5">Medio Ambiente</option>
																												 <option value="6">interes general</option>
																										</select>

																						</div>

																						<p class="text-left text-white mt-2">Motivo: </p>
																							<textarea  class="form-control" aria-label="With textarea" id="motivOp" minlength="50" maxlength="400" placeholder="Especifica el motivo de la modificacion" required  ></textarea>
																							<div class="valid-feedback ml-2 mb-2">
																										Se ve bien!.
																								 </div>
																										 <div class="invalid-feedback ml-2 mb-2">
																													Minimo 50 caracteres,Maximo 400.No ingreses Insultos, Links o palabras inapropiadas(seras BANEADO).
																												</div>
																		 </div>
																						<div class="modal-footer bg-dark ">


																							<div  id="alertSuccess" >

																										</div>
																							<button type="button" class="btn btn-secondary" data-dismiss="modal" id="cerrarComentario" >Cerrar</button>
																							<button type="button" class="btn btn-primary" id="submitcomment"><img src="/Opiniones/img/opiniones_login.png" width="50" height="25" class="d-inline-block align-center" alt=" Crear Op!" loading="lazy"></button>


																						</div>

																	</div>
																</div>
														</div>

														<!-- Modal Eliminar Opinion -->
<div class="modal fade" id="modalDelOp" data-backdrop="static" data-keyboard="false" tabindex="-1"  aria-hidden="true">
<div class="modal-dialog">
	<div class="modal-content">
		<div class="modal-header">
			<h5 class="modal-title" id="staticBackdropLabel">Eliminar Opinion</h5>
			<button type="button" class="close" data-dismiss="modal" aria-label="Close">
				<span aria-hidden="true">&times;</span>
			</button>
		</div>
		<div class="modal-body">
			<div class="input-group">
							<div class="input-group-prepend">
							<span class="input-group-text">Motivo:</span>
							</div>
							<textarea class="form-control" id="motivoEliminateOp" aria-label="With textarea"></textarea>
				</div>
		</div>
		<div class="modal-footer">
			<div class="alert alert-success" id="alertOpDel" role="alert">

						</div>
			<button type="button" class="btn btn-secondary" data-dismiss="modal">Cerrar</button>
			<button type="button" id="delOp" class="btn btn-danger">Eliminar</button>
		</div>
	</div>
</div>
</div>

														<!-- Modal Suspender Usuario -->
<div class="modal fade" id="modalSuspendUser" data-backdrop="static" data-keyboard="false" tabindex="-1"  aria-hidden="true">
<div class="modal-dialog">
	<div class="modal-content">
		<div class="modal-header">
			<h5 class="modal-title" id="tituloSuspendUser">Suspensión</h5>
			<button type="button" id="closeSuspend" class="close" data-dismiss="modal" aria-label="Close">
				<span aria-hidden="true">&times;</span>
			</button>
		</div>
		<div class="modal-body">

			<div class="input-group">
							<div class="input-group-prepend">
							<span class="input-group-text">Motivo:</span>
							</div>
							<textarea class="form-control" id="motivoSuspendUser" aria-label="With textarea" minlength="10" maxlength="50"></textarea>
				</div>

			<div class="input-group pr-5 mt-2">
							<div class="input-group-prepend">
								<label class="input-group-text" for="inputGroupSelect01">Tiempo:</label>
							</div>
							<select class="custom-select" id="inputSuspendUser" required autofocus>
								<option selected disabled value="">Elige una opción:</option>

								<option value="1">1 dias</option>
								<option value="7">1 semana</option>
								<option value="30">1 mes</option>
								 <option value="90">3 meses</option>
									<option value="120">6 meses</option>
									 <option value="365">12 meses</option>
							</select>

			</div>
			<div class="input-group pr-5 mt-2">
							<div class="input-group-prepend">
								<label class="input-group-text" for="inputGroupSelect01">Disminucion de Puntos:</label>
							</div>
							<select class="custom-select" id="inputPointsSuspendUser" required >
								<option selected disabled value="">Elige una opción:</option>
								<option value="-10">-10</option>
								<option value="-20">-20</option>
								<option value="-50">-50</option>
								 <option value="-100">-100</option>
									<option value="-500">-500</option>
									 <option value="-1000">-1000</option>
							</select>

			</div>
		</div>
		<div class="modal-footer">
			<div class="alert alert-success" id="alertSuspendUser" role="alert">

						</div>
			<button type="button"   class="btn btn-secondary" data-dismiss="modal">Cerrar</button>
			<button type="button" id="suspendUser" class="btn btn-warning">Suspender</button>
		</div>
	</div>
</div>
</div>
														<!-- Modal Eliminar Usuario -->
<div class="modal fade" id="modalBanUser" data-backdrop="static" data-keyboard="false" tabindex="-1"  aria-hidden="true">
<div class="modal-dialog">
	<div class="modal-content">
		<div class="modal-header">
			<h5 class="modal-title" id="tituloBanUser">Eliminar usuario</h5>
			<button type="button" id="closeBan" class="close" data-dismiss="modal" aria-label="Close">
				<span aria-hidden="true">&times;</span>
			</button>
		</div>
		<div class="modal-body">

			<div class="input-group">
							<div class="input-group-prepend">
							<span class="input-group-text">Motivo:</span>
							</div>
							<textarea class="form-control" id="motivoBanUser" aria-label="With textarea" minlength="10" maxlength="50"></textarea>
				</div>


		</div>
		<div class="modal-footer">
			<div class="alert alert-success" id="alertBanUser" role="alert">

						</div>
			<button type="button"  class="btn btn-secondary" data-dismiss="modal">Cerrar</button>
			<button type="button" id="banUser" class="btn btn-danger">Eliminar</button>
		</div>
	</div>
</div>
</div>

																<!-- Modal Habilitar Usuario -->
<div class="modal fade" id="modalActUser" data-backdrop="static" data-keyboard="false" tabindex="-1"  aria-hidden="true">
<div class="modal-dialog">
	<div class="modal-content">
		<div class="modal-header">
			<h5 class="modal-title" id="tituloActUser">Habilitar usuario</h5>
			<button type="button" id="closeAct" class="close" data-dismiss="modal" aria-label="Close">
				<span aria-hidden="true">&times;</span>
			</button>
		</div>
		<div class="modal-body">

			<div class="input-group">
							<div class="input-group-prepend">
							<span class="input-group-text">Motivo:</span>
							</div>
							<textarea class="form-control" id="motivoActUser" aria-label="With textarea"></textarea>
				</div>


		</div>
		<div class="modal-footer">
			<div class="alert alert-success" id="alertActUser" role="alert">

						</div>
			<button type="button"  class="btn btn-secondary" data-dismiss="modal">Cerrar</button>
			<button type="button" id="actUser" class="btn btn-success">Habilitar</button>
		</div>
	</div>
</div>
</div>

					<!-- Modal Infracion -->
<div class="modal fade" id="modalInfraccion" tabindex="-1" aria-labelledby="modalInfraccion" aria-hidden="true">
<div class="modal-dialog">
	<div class="modal-content">
		<div class="modal-header">
			<h5 class="modal-title" id="infraccionId">Infraccion ID: </h5>
			<button type="button" class="close" data-dismiss="modal" aria-label="Close">
				<span aria-hidden="true">&times;</span>
			</button>
		</div>
		<div class="modal-body">
						<div class="input-group-prepend">
								<span class="input-group-text">Motivo:</span>
						</div>

								<textarea class="form-control" id="motivoInfraccion" aria-label="With textarea" readonly></textarea>

							<p class="text-left" id="banBox"> </p>
							<p class="text-left" id="timeBox"></p>
							<p class="text-left" id="dateSuspension"></p>
							<p class="text-left" id="penaltyPoints"></p>


		</div>
		<div class="modal-footer">
			<button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>

		</div>
		</div>

	</div>
</div>

<!-- Modal  Rep -->
<div class="modal fade" id="modalRep" tabindex="-1" aria-labelledby="modalRep" aria-hidden="true">
<div class="modal-dialog">
			<div class="modal-content  bg-dark">
					<div class="modal-header">
						<h5 class="modal-title text-white" id="exampleModalLabel">Reputacion: </h5>
							<button type="button" class="close" data-dismiss="modal" aria-label="Close">
								<span aria-hidden="true">&times;</span>
									</button>
									</div>
										<div class="modal-body">
											<p class="text-left text-white " id="pointsLikesBox"> </p>
											<p class="text-left text-white" id="pointsOpBox"></p>
												<p class="text-left text-white" id="penalty_points"></p>
											<p class="text-left text-white" id="totalPoints"></p>

								</div>
							<div class="modal-footer">
						<button type="button" class="btn btn-secondary" data-dismiss="modal">Cerrar</button>

					</div>
			</div>
</div>
</div>
<!-- Modal  Notifications -->
<div class="modal fade " id="notifModal" tabindex="-1" role="dialog" aria-labelledby="notifModal" aria-hidden="true">
<div class="modal-dialog modal-lg" role="document">
	<div class="modal-content bg-dark">
		<div class="modal-header">
				<h5 class="modal-title text-white" >Notificaciones</h5>
					<button type="button" class="close" data-dismiss="modal" aria-label="Close">
						<span aria-hidden="true">&times;</span>
								</button>
							</div>
							<div class="modal-body" id="notifAlert">


							</div>
							<div class="modal-footer">
					<button type="button" class="btn btn-secondary" data-dismiss="modal">Cerrar</button>
					<button type="button" class="btn btn-primary" id="cleanNotif">Marcar como leidas</button>
		</div>
	</div>
</div>
</div>

<footer class="footer  ">
	<div  class="d-flex flex-column">
						<span class="text-white text-center   ">Opiniones 2020 ©. Todos los derechos reservados.</span>
						</div>
	</footer>

</body>
</html>
